<div class="container">
  <div class="container-header">
    <span><i class="fa-solid fa-basket-shopping"></i> Order Summary</span>
    <button [routerLink]="['/showcase']" class="btn redirect-back"><i class="fa-solid fa-xmark"></i></button>
  </div>
  <div class="content">
    <div class="content-section">
      <h2>Delivery Details:</h2>

      <form [formGroup]="orderForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="column">
            <label for="name">Name:</label>
            <input type="text" id="name" formControlName="name" />
            <div *ngIf="name && name.invalid && (name.dirty || name.touched)" class="error-message">
              Name is required and should be at least 3 characters long.
            </div>
          </div>
          <div class="column">
            <label for="phone">Phone:</label>
            <input type="tel" id="phone" formControlName="phone" />
            <div *ngIf="phone && phone.invalid && (phone.dirty || phone.touched)" class="error-message">
              Please enter a valid phone number.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="column">
            <label for="email">Email:</label>
            <input type="email" id="email" formControlName="email" />
            <div *ngIf="email && email.invalid && (email.dirty || email.touched)" class="error-message">
              Please enter a valid email address.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="column">
            <label for="city">City:</label>
            <input type="text" id="city" formControlName="city" />
            <div *ngIf="city && city.invalid && (city.dirty || city.touched)" class="error-message">
              City is required.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="column">
            <label for="address">Street Address:</label>
            <input type="text" id="address" formControlName="address" />
            <div *ngIf="address && address.invalid && (address.dirty || address.touched)" class="error-message">
              Address is required.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="column">
            <label for="unit">Unit:</label>
            <input type="text" id="unit" formControlName="unit" />
            <div *ngIf="unit && unit.invalid && (unit.dirty || unit.touched)" class="error-message">
              Unit code is required and should be a valid format.
            </div>
          </div>
          <div class="column">
            <label for="postalCode">Postal Code:</label>
            <input type="text" id="postalCode" formControlName="postalCode" />
            <div *ngIf="postalCode && postalCode.invalid && (postalCode.dirty || postalCode.touched)" class="error-message">
              Postal code is required and should be a valid format.
            </div>
          </div>
        </div>

        <div class="row">
          <div class="column">
            <div class="order-total-price-container">
              <p class="total-price"><strong>Total: </strong>{{this.totalPrice}} z≈Ç</p>
              <button class="btn-submit" [disabled]="orderForm.invalid" (click)="OnConfirm()">Confirm</button>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="order-summary">
      <h2>Order:</h2>

      <div class="books-container">
        <app-order-list-item *ngFor="let item of this.cartService.getCartItems()" [orderItem]="item"></app-order-list-item>
      </div>
    </div>
  </div>
</div>
